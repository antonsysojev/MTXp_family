# Familial Aggregation of persistence to MTX in early RA

This repository hosts scripts and documents related to the study described in [Sysojev et al. (2022)](https://pubmed.ncbi.nlm.nih.gov/35933427/). However, it _does not_ contain any type of raw data used within this project.

As this was my first PhD project, workflow and organization is not at the level I am currently working at. As such, code is presented in a bit unintuive and non-optimal fashion, though I've here decided to stick with the original files, even if these are not representative of how I would work this project today. This leads to another caveat, in that a lot of modifications to scripts may be necessary, in particular in changing input and output filepaths, to be able to run them at all.

# 1. SCRIPTS

This folder is divided into three sub-folders: `1. Data Extraction`, in which code for identifying the study sample is available; `2. Statistical Analysis`, in which various regression models are fit and statistics obtained; and `3. Misc` where additional supporting scripts are found. The former consists of four main scripts, `main_extraction.sas` which extracts the study cohort in several steps, outputing files along the way with `SRQ_7.sas7bdat` being the final file. This is then picked up by the second script, `main_variables.sas`, which loads the `SRQ_7.sas7bdat` file and appends various covariates to it, before outputing it as `cohort.sas7bdat`, the primary analysis cohort. Subsequent scripts identify secondary analysis populations: `index_patients.sas` identifies patients with a first-degree relative who were either persistent/non-persistent at the time of MTX initiation for the index patient, which are used for an exploratory analysis, output as `cohort_index_${N}yr.sas7bdat`; `Sensitivity.sas` identifies patient cohorts used for sensitivity analysis (full-siblings only, and cohorts where inclusion criteria and outcome was validated against NPR and PDR), for both the primary analysis and the exploratory analysis, output with filenames following similar syntax where 'cohort' is swapped for 'sensitivity' and a suffix of 'sib' for full-siblings and 'rob' for validated cohorts, were added (e.g., `sensitivity_index_1yr_sib.sas7bdat` for the sensitivity cohort assessing sensitivity of results obtained with `cohort_index_1yr.sas7bdat`).

In the second folder, `2. Statistical Analysis`, there are four scripts of interest. In `Main.R`, we perform the primary statistical analysis, using log-binomial regression to estimate the familial aggregation, and in `Heritability.R` we estimate the underlying heritability. Both of these scripts perform their respective analyses both in the primary analysis cohort, as well as in the two sensitivity sub-cohorts. Similarly, in `EULAR_response.R`, we estimate the familial aggregation of EULAR response, here too in the primary analysis cohort alongside the two sensitivity sub-cohorts. Lastly, in `Prediction.R` we estimate the risk of persistence given the patient's family history of persistence (i.e., as estimated in the `cohort_index_${N}yr.sas7bdat` data sets). Note that all of these output two files: a table containing results (.txt-file) and a graphical visualiation of the results (.jpg-file).

Lastly, the `3. Misc` folder contains additional scripts perform various additional work. I did not bother going through all of them, as their purpose was generally not obvious from the start. Some of these provide answers to questions posed during peer-review, others to questions posed during oral presentations. In general, they seem to be of little importance but felt worth storing.

# 2. DOCS

Various types of documents and documentation related to the project. Most contents are self-explanatory from the titles. I decided to not upload any manuscript files since the paper is fully published and the original folders are messy.